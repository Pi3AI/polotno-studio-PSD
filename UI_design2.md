我需要在现有的图形编辑器应用中实现智能上下文工具栏功能，请帮我完成以下优化：

重要：请在现有代码基础上修改，不要创建新项目或新文件夹。保留所有现有功能，只调整UI设计和布局。

## 核心需求

1. **智能工具栏系统**
   - 当用户选中图片/图形元素时，在画布上方显示"图片编辑工具栏"
   - 当用户选中文本元素时，在画布上方显示"文字编辑工具栏"
   - 工具栏需要平滑地跟随选中元素移动，始终保持在元素上方合适位置

2. **设计规范参考**
   - 图片编辑工具栏的样式请完全遵循 `图片编辑工作栏.html` 的设计
   - 文字编辑工具栏的样式请完全遵循 `文字编辑工作栏.html` 的设计
   - 保持现代化的视觉风格：柔和阴影、大圆角、流畅动画

3. **交互细节**
   - 工具栏出现/消失需要有淡入淡出动画（200-300ms）
   - 工具栏位置更新要平滑过渡，避免突兀跳动
   - 当元素移动时，工具栏应智能跟随，保持在视口可见范围内
   - 如果元素靠近画布边缘，工具栏应自动调整位置避免溢出

4. **技术实现建议**
   - 工具栏定位使用 `position: absolute` 或 `position: fixed`
   - 使用 `transform: translate()` 实现平滑的位置动画
   - 添加防抖处理，避免频繁更新位置
   - 确保工具栏的 z-index 足够高，不被其他元素遮挡

5. **响应式适配**
   - 在移动端和小屏幕设备上，工具栏可能需要固定在底部或顶部
   - 根据屏幕尺寸自动调整工具栏的大小和按钮间距

## 期望效果

最终效果应该类似 Figma、Canva 等专业设计工具的上下文工具栏体验：
- 流畅自然的跟随动画
- 优雅的视觉呈现
- 直观的用户体验

请保持现有代码的整体架构，只添加和优化工具栏相关的功能。